<div class="rounded-t-lg p-4 bg-white block sm:flex items-center justify-between border-b border-gray-200 lg:mt-1.5 dark:bg-gray-800 dark:border-gray-700">
  <div class="w-full mb-1">
      <div class="mb-4">
          <h1 class="text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white">Documentos Observados</h1>
      </div>
      <div class="items-center justify-between block sm:flex md:divide-x md:divide-gray-100 dark:divide-gray-700">
          <div class="flex items-center mb-4 sm:mb-0 gap-2">

            <!-- <form class="flex items-center max-w-sm mx-auto">
              <label for="simple-search" class="sr-only">Search</label>
              <div class="relative w-full">
                  <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                      <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20">
                          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"/>
                      </svg>
                  </div>
                  <input type="text" id="simple-search" [(ngModel)]="search" name="search" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Buscar..." required />
              </div>
              <button type="submit" (click)="listarReportes()" class="p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                  <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                  </svg>
                  <span class="sr-only">Search</span>
              </button>
            </form> -->

            <div class="relative">
              <input
                type="text"
                [(ngModel)]="query"
                (input)="filterOptions()"
                placeholder="Buscar por RUC"
                class="block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-500 focus:outline-none"
              />

              <ul
                *ngIf="filteredOptions.length > 0"
                class="absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-md max-h-40 overflow-auto"
              >
                <li
                  *ngFor="let option of filteredOptions"
                  (click)="selectOption(option)"
                  class="px-4 py-2 cursor-pointer hover:bg-blue-100"
                >
                  {{ option.client_ruc }}
                </li>
              </ul>
            </div>

            <div class="relative">
              <input
                type="text"
                [(ngModel)]="queryNumber"
                (input)="filterOptionsNumber()"
                placeholder="Buscar por N° Documento"
                class="block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-500 focus:outline-none"
              />

              <ul
                *ngIf="filteredOptionsNumber.length > 0"
                class="absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-md max-h-40 overflow-auto"
              >
                <li
                  *ngFor="let option of filteredOptionsNumber"
                  (click)="selectOptionNumber(option)"
                  class="px-4 py-2 cursor-pointer hover:bg-blue-100"
                >
                  {{ option.document_number }}
                </li>
              </ul>
            </div>

            <div class="relative">
              <input
                type="text"
                [(ngModel)]="queryName"
                (input)="filterOptionsName()"
                (blur)="onBlur()"
                placeholder="Buscar por Cliente"
                class="block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-500 focus:outline-none"
              />

              <ul
                *ngIf="filteredOptionsName.length > 0"
                class="absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-md max-h-40 overflow-auto"
              >
                <li
                  *ngFor="let option of filteredOptionsName"
                  (click)="selectOptionName(option)"
                  class="px-4 py-2 cursor-pointer hover:bg-blue-100"
                >
                  {{ option.client_name }}
                </li>
              </ul>
            </div>

            <div class="relative">
              <input
                type="text"
                [(ngModel)]="queryLocation"
                (input)="filterOptionsLocation()"
                placeholder="Buscar por Local"
                class="block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-500 focus:outline-none"
              />

              <ul
                *ngIf="filteredOptionsLocation.length > 0"
                class="absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-md max-h-40 overflow-auto"
              >
                <li
                  *ngFor="let option of filteredOptionsLocation"
                  (click)="selectOptionLocation(option)"
                  class="px-4 py-2 cursor-pointer hover:bg-blue-100"
                >
                  {{ option.document_location }}
                </li>
              </ul>
            </div>



            <!-- <div class="relative">
              <input
                type="text"
                [(ngModel)]="query"
                (input)="listadoRuc()"
                placeholder="Buscar RUC"
                class="block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-500 focus:outline-none"
              />

              <ul
                *ngIf="filteredOptions.length > 0"
                class="absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-md max-h-40 overflow-auto"
              >
                <li
                  *ngFor="let option of filteredOptions"
                  (click)="selectOption(option)"
                  class="px-4 py-2 cursor-pointer hover:bg-blue-100"
                >
                  {{ option }}
                </li>
              </ul>
            </div> -->


            <!-- Plantilla para el estado de carga -->


          </div>
      </div>
  </div>
</div>

<div class="flex flex-col">
  <div class="overflow-x-auto">
      <div class="inline-block min-w-full align-middle">
          <div class="overflow-hidden shadow">
              <table class="min-w-full divide-y divide-gray-200 table-fixed dark:divide-gray-600" *ngIf="!loading; else loadingTemplate">
                  <thead class="bg-gray-100 dark:bg-gray-700">
                      <tr>

                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              RUC
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Número de Documento
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Nombre de Cliente
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Local
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Descripción del concepto
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Total
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Fecha
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Lote
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Mensaje
                          </th>
                          <th scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
                              Documento
                          </th>
                      </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700" >


                      <tr class="hover:bg-gray-100 dark:hover:bg-gray-700" *ngFor="let item of reportes">

                          <td class="p-4 text-sm font-normal text-gray-500 whitespace-nowrap dark:text-gray-400">
                              <div class="text-base font-semibold text-gray-900 dark:text-white">{{ (item.client_ruc && item.client_ruc !== 'NOT IDENTIFIED') ? item.client_ruc : ' ' }}</div>

                          </td>
                          <td class="p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white">
                            {{ (item.document_number && item.document_number !== 'NOT IDENTIFIED') ? item.document_number : ' ' }}
                            <!-- Botón del icono -->
                            <button
                            type="button"
                            (click)="openDrawer(item)"
                            class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-300"
                            >
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18.5A2.493 2.493 0 0 1 7.51 20H7.5a2.468 2.468 0 0 1-2.4-3.154 2.98 2.98 0 0 1-.85-5.274 2.468 2.468 0 0 1 .92-3.182 2.477 2.477 0 0 1 1.876-3.344 2.5 2.5 0 0 1 3.41-1.856A2.5 2.5 0 0 1 12 5.5m0 13v-13m0 13a2.493 2.493 0 0 0 4.49 1.5h.01a2.468 2.468 0 0 0 2.403-3.154 2.98 2.98 0 0 0 .847-5.274 2.468 2.468 0 0 0-.921-3.182 2.477 2.477 0 0 0-1.875-3.344A2.5 2.5 0 0 0 14.5 3 2.5 2.5 0 0 0 12 5.5m-8 5a2.5 2.5 0 0 1 3.48-2.3m-.28 8.551a3 3 0 0 1-2.953-5.185M20 10.5a2.5 2.5 0 0 0-3.481-2.3m.28 8.551a3 3 0 0 0 2.954-5.185"/>
                            </svg>

                            </button>

                          </td>
                          <td class="max-w-sm p-4 overflow-hidden text-base font-normal text-gray-500 truncate xl:max-w-xs dark:text-gray-400">{{ (item.client_name && item.client_name !== 'NOT IDENTIFIED') ? item.client_name :' '}}</td>
                          <td class="p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white">{{ (item.document_location && item.document_location !== 'NOT IDENTIFIED') ? item.document_location :' '}}</td>
                          <td class="p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white">{{ (item.item_description && item.item_description !== 'NOT IDENTIFIED') ? item.item_description :' '}}</td>
                          <td class="p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white">{{ (item.item_total | number:'1.2-2' ) ??'-'}}</td>

                          <td class="p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white">{{ item.document_issue_date  ??'-'}}</td>
                          <td class="p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white">{{ extractLote(item.document_id)}}</td>
                          <td class="p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white">{{ item.msj_error}}</td>
                          <td class="p-4 space-x-2 whitespace-nowrap">
                              <button (click)="verDocumento(item.document_id ?? '-')" type="button" id="updateProductButton" class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
<!--                                   <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd"></path></svg>
 -->                                  Ver Documento
                              </button>
                              <!-- <button type="button" id="deleteProductButton" data-drawer-target="drawer-delete-product-default" data-drawer-show="drawer-delete-product-default" aria-controls="drawer-delete-product-default" data-drawer-placement="right" class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:focus:ring-red-900">
                                  <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
                                  Delete item
                              </button> -->
                          </td>
                      </tr>
                  </tbody>
              </table>
              <ng-template #loadingTemplate>
                <div class="flex justify-center items-center h-32">
                  <div role="status">
                    <svg
                      aria-hidden="true"
                      class="w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600"
                      viewBox="0 0 100 101"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9765 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9765 100 50.5908ZM9.08148 50.5908C9.08148 74.3255 25.6653 91.9093 49.4 91.9093C73.1347 91.9093 89.7185 74.3255 89.7185 50.5908C89.7185 26.8561 73.1347 9.27232 49.4 9.27232C25.6653 9.27232 9.08148 26.8561 9.08148 50.5908Z"
                        fill="currentColor"
                      />
                      <path
                        d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.553C95.2932 28.8227 92.871 24.3693 89.8167 20.348C85.8452 15.1192 80.8826 10.7235 75.2124 7.4129C69.5422 4.10234 63.2754 1.94025 56.7226 1.05108C51.7666 0.367831 46.7461 0.446529 41.8351 1.27873C39.3429 1.69826 37.8735 4.19047 38.5106 6.61589C39.1477 9.04131 41.6082 10.4717 44.1004 10.1071C47.851 9.54543 51.6811 9.52603 55.448 10.0496C60.864 10.7766 66.0922 12.605 70.9056 15.3912C75.7191 18.1775 79.9995 21.8611 83.5661 26.2228C86.364 29.786 88.6393 33.7322 90.2833 37.8898C91.0835 39.8312 93.5422 40.7079 93.9676 39.0409Z"
                        fill="currentFill"
                      />
                    </svg>
                    <span class="sr-only">Loading...</span>
                  </div>
                </div>
              </ng-template>
          </div>
      </div>
  </div>
</div>

<div class="sticky rounded-b-lg bottom-0 right-0 items-center w-full p-4 bg-white border-t border-gray-200 sm:flex sm:justify-between dark:bg-gray-800 dark:border-gray-700">
  <div class="flex items-center mb-4 sm:mb-0">
      <!-- <a href="#" class="inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white">
          <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
      </a>
      <a href="#" class="inline-flex justify-center p-1 mr-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white">
          <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
      </a> -->
      <span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">{{paginacion.from}} - {{paginacion.to}}</span> of <span class="font-semibold text-gray-900 dark:text-white">{{paginacion.total}}</span></span>
  </div>
  <div class="flex items-center space-x-3">
      <a (click)="listarReportes(paginacion.previous_page)" *ngIf="paginacion.previous_page != null" class="inline-flex items-center justify-center flex-1 px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
          <svg class="w-5 h-5 mr-1 -ml-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
          Anterior
      </a>
      <a (click)="listarReportes(paginacion.next_page)"  *ngIf="paginacion.next_page" class="inline-flex items-center justify-center flex-1 px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
          Siguiente
          <svg class="w-5 h-5 ml-1 -mr-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
      </a>
  </div>
</div>

<!-- Edit Product Drawer -->
<div id="drawer-update-product-default" class="fixed top-0 right-0 z-50 w-full h-screen max-w-xs p-4 overflow-y-auto transition-transform translate-x-full bg-white dark:bg-gray-800" tabindex="-1" aria-labelledby="drawer-label" aria-hidden="true">
  <h5 id="drawer-label" class="inline-flex items-center mb-6 text-sm font-semibold text-gray-500 uppercase dark:text-gray-400">Chat</h5>
  <button type="button" (click)="closeDrawer()" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white">
      <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
      <span class="sr-only">Close menu</span>
  </button>
  <form action="#">
      <div class="space-y-4">
          <!-- <div>
              <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Name</label>
              <input type="text" name="title" id="name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" value="Education Dashboard" placeholder="Type product name" required="">
          </div>
          <div>
              <label for="category" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Technology</label>
              <select id="category" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                  <option selected="">Flowbite</option>
                  <option value="RE">React</option>
                  <option value="AN">Angular</option>
                  <option value="VU">Vue JS</option>
              </select>
          </div>
          <div>
              <label for="price" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Price</label>
              <input type="number" name="price" id="price" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" value="2999" placeholder="$149" required="">
          </div>
          <div>
              <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
              <textarea id="description" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter event description here">Start developing with an open-source library of over 450+ UI components, sections, and pages built with the utility classes from Tailwind CSS and designed in Figma.</textarea>
          </div>
          <div>
              <label for="discount" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Discount</label>
              <select id="discount" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                  <option selected="">No</option>
                  <option value="5">5%</option>
                  <option value="10">10%</option>
                  <option value="20">20%</option>
                  <option value="30">30%</option>
                  <option value="40">40%</option>
                  <option value="50">50%</option>
              </select>
          </div> -->

          <div class="flex h-3/4 bg-gray-100 dark:bg-gray-800" style="height: 80vh!important;">
            <!-- Sidebar -->
            <!-- <aside class="w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700">
              <div class="h-full flex flex-col">
                <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                  <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Conversaciones</h2>
                </div>
                <ul class="flex-1 overflow-y-auto p-4 space-y-2">
                  <li
                    *ngFor="let conversation of conversations"
                    (click)="selectConversation(conversation)"
                    class="cursor-pointer p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700"
                    [class.bg-gray-200]="conversation === selectedConversation"
                  >
                    <p class="font-medium text-gray-900 dark:text-white">{{ conversation.name }}</p>
                  </li>
                </ul>
                <button
                  class="m-4 p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
                  (click)="createNewConversation()"
                >
                  Nueva Conversación
                </button>
              </div>
            </aside> -->

            <!-- Chat Area -->
            <main class="flex-1 flex flex-col">
              <div
                *ngIf="showToast"
                class="fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded shadow"
              >
                Copiado al portapapeles
              </div>
              <div class="text-base font-semibold text-gray-900 dark:text-white">
                <!-- <span>PROMPTS:<br>
                  * Cuantos documentos hay?<br>
                * Dame los datos del numero de documento 236 - 0020168<br>
                * Muestrame los datos de los documentos que el nombre del cliente contenga PEDRO LEONARDO</span> -->
                <span
                  class="cursor-pointer hover:underline text-blue-500"
                  (click)="copyToClipboard('Cuantos documentos hay?')"
                >
                  PROMPT: Cuantos documentos hay?
                </span>
                <br />
                <br />
                <span
                  class="cursor-pointer hover:underline text-blue-500"
                  (click)="copyToClipboard('Dame los datos del numero de documento '+ documento.document_number)"
                >
                  PROMPT: Dame los datos del numero de documento {{documento.document_number}}
                </span>
                <br />
                <br />
                <span
                  class="cursor-pointer hover:underline text-blue-500"
                  (click)="copyToClipboard('Muestrame los datos de los documentos que el nombre del cliente contenga '+documento.client_name)"
                >
                  PROMPT: Muestrame los datos de los documentos que el nombre del cliente
                  contenga {{documento.client_name}}
                </span>
              </div>
              <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                <h2 class="text-lg font-semibold text-gray-900 dark:text-white">

                  {{ selectedConversation?.name || 'Seleccione una conversación' }}
                </h2>
              </div>
              <div class="flex-1 overflow-y-auto p-4">
                <div *ngFor="let message of selectedConversation?.messages" class="mb-4">
                  <div
                    [class.text-right]="message.sender === 'user'"
                    class="text-left max-w-full ml-auto"
                  >
                    <p
                      class="inline-block p-3 rounded-lg bg-gray-200 text-gray-900 dark:bg-gray-700 dark:text-white"
                    >
                      {{ message.text }}
                    </p>
                  </div>
                </div>
              </div>

            </main>
          </div>
      </div>
      <div class="bottom-0 left-0 flex justify-center w-full pb-4 mt-4 space-x-4 sm:absolute sm:px-4 sm:mt-0">
        <div class="p-4 border-t border-gray-200 dark:border-gray-700">
          <form (ngSubmit)="sendMessage()">
            <div class="flex items-center space-x-2">
              <input
                [(ngModel)]="messageText"
                name="message"
                type="text"
                placeholder="Escribe un mensaje..."
                class="flex-1 p-3 rounded-lg border border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"
              />
              <button
                type="submit"
                class="p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
              >
                Enviar
              </button>
            </div>
          </form>
        </div>
      </div>
  </form>
</div>

<!-- Delete Product Drawer -->
<div id="drawer-delete-product-default" class="fixed top-0 right-0 z-50 w-full h-screen max-w-xs p-4 overflow-y-auto transition-transform translate-x-full bg-white dark:bg-gray-800" tabindex="-1" aria-labelledby="drawer-label" aria-hidden="true">
  <h5 id="drawer-label" class="inline-flex items-center text-sm font-semibold text-gray-500 uppercase dark:text-gray-400">Delete item</h5>
  <button type="button" data-drawer-dismiss="drawer-delete-product-default" aria-controls="drawer-delete-product-default" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white">
      <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
      <span class="sr-only">Close menu</span>
  </button>
  <svg class="w-10 h-10 mt-8 mb-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
  <h3 class="mb-6 text-lg text-gray-500 dark:text-gray-400">Are you sure you want to delete this product?</h3>
  <a href="#" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-3 py-2.5 text-center mr-2 dark:focus:ring-red-900">
      Yes, I'm sure
  </a>
  <a href="#" class="text-gray-900 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-primary-300 border border-gray-200 font-medium inline-flex items-center rounded-lg text-sm px-3 py-2.5 text-center dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700" data-drawer-hide="drawer-delete-product-default">
      No, cancel
  </a>
</div>

<!-- Add Product Drawer -->
<div id="drawer-create-product-default" class="fixed top-0 right-0 z-50 w-full h-screen max-w-xs p-4 overflow-y-auto transition-transform translate-x-full bg-white dark:bg-gray-800" tabindex="-1" aria-labelledby="drawer-label" aria-hidden="true">
  <h5 id="drawer-label" class="inline-flex items-center mb-6 text-sm font-semibold text-gray-500 uppercase dark:text-gray-400">New Product</h5>
  <button type="button" data-drawer-dismiss="drawer-create-product-default" aria-controls="drawer-create-product-default" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white">
      <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
      <span class="sr-only">Close menu</span>
  </button>
  <form >
      <div class="space-y-4">
          <div>
              <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Name</label>
              <input type="text" name="title" id="name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Type product name" required="">
          </div>

          <div>
              <label for="price" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Price</label>
              <input type="number" name="price" id="price" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="$2999" required="">
          </div>
          <div>
              <label for="category-create" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Technology</label>
              <select id="category-create" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                  <option selected="">Select category</option>
                  <option value="FL">Flowbite</option>
                  <option value="RE">React</option>
                  <option value="AN">Angular</option>
                  <option value="VU">Vue</option>
              </select>
          </div>
          <div>
              <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
              <textarea id="description" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter event description here"></textarea>
          </div>
          <div>
              <label for="discount-create" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Discount</label>
              <select id="discount-create" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                  <option selected="">No</option>
                  <option value="5">5%</option>
                  <option value="10">10%</option>
                  <option value="20">20%</option>
                  <option value="30">30%</option>
                  <option value="40">40%</option>
                  <option value="50">50%</option>
              </select>
          </div>
          <div class="bottom-0 left-0 flex justify-center w-full pb-4 space-x-4 md:px-4 md:absolute">
              <button type="submit" class="text-white w-full justify-center bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
                  Add product
              </button>
              <button type="button" data-drawer-dismiss="drawer-create-product-default" aria-controls="drawer-create-product-default" class="inline-flex w-full justify-center text-gray-500 items-center bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">
                  <svg aria-hidden="true" class="w-5 h-5 -ml-1 sm:mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                  Cancel
              </button>
          </div>
      </div>
  </form>
</div>




